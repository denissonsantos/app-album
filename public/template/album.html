<h1>{{album.title}}</h1>
<button ng-show="app.edit" ng-click="createItem()">Create item</button>
<div ui-tree="treeOptions" data-empty-place-holder-enabled="false" data-drag-enabled="app.edit" ui-tree-nodes ng-model="albumItemRelCollection.items" class="row">

    <div ng-repeat="itemRel in albumItemRelCollection.items" ui-tree-node ng-class="{'album-primary-item': album.primary_item_id == itemRel.album_item_id}" class="col-lg-3 col-md-4 col-xs-6 thumb">
        <div class="thumbnail">
            <a href ng-click="fullScreenGalleryRel(albumItemRelCollection, itemRel)"><img ng-src="{{itemRel._embedded.album_item._embedded.thumbnail_file._links.thumbnail_album.href}}" class="img-responsive"></a>
            <div class="caption">
                <h3><a href ng-click="fullScreenGalleryRel(albumItemRelCollection, itemRel)">{{itemRel._embedded.album_item.title}}</a></h3>
                <div ng-show="app.edit">
                    <a ui-tree-handle class="btn btn-default" role="button"><i class="glyphicon glyphicon-sort" ></i></a>
                    <a ng-click="albumItemUpdate(itemRel._embedded.album_item)" class="btn btn-default" role="button">Edit</a>
                    <a ng-click="setPrimaryItem(album, itemRel)" class="btn btn-default" role="button">Set as primary</a>
                    <a ng-click="createItemAfter(itemRel)" class="btn btn-default" role="button">Create after</a>
                    <a ng-click="albumItemRelRemove(albumItemRelCollection, itemRel)" class="btn btn-default" role="button">Remove</a>
                </div>
            </div>
        </div>
    </div>

</div>